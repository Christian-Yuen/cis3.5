<?xml version='1.0' encoding='utf-8'?>
<widget id="com.example.myapp" version="1.0.0" xmlns="http://www.w3.org/ns/widgets" xmlns:cdv="http://cordova.apache.org/ns/1.0">
  <name>MyApp</name>
  <description>CIS Student Developed App for Goods Donation</description>

  <content src="login.html" />
  <!-- Add inside <widget> tag, before <platform> tags -->
  <access origin="*" />
  <allow-navigation href="*" />
  <allow-intent href="*" />
  <access origin="*" />
  <access origin="https://*.firebaseapp.com" />
  <access origin="https://*.googleapis.com" />
  <access origin="https://*.google.com" />
  <access origin="https://*.firebaseio.com" />
  <access origin="https://firestore.googleapis.com" />
  <access origin="https://www.googleapis.com" />
  <allow-intent href="https://*/*" />
  <allow-intent href="http://*/*" />
  <allow-navigation href="https://*/*" />


  <!-- iOS Platform Settings -->
  <platform name="ios">
    <!-- FOR SIMULATOR: Use http://localhost -->
    <preference name="scheme" value="http" />
    <preference name="hostname" value="localhost" />
    <preference name="iosScheme" value="http" />

    <!-- Allow ALL navigation for gapi -->
    <allow-navigation href="*" />
    <access origin="*" />

    <config-file parent="NSAppTransportSecurity" target="*-Info.plist">
      <dict>
        <key>NSAllowsArbitraryLoads</key>
        <true/>
        <key>NSAllowsArbitraryLoadsInWebContent</key>
        <true/>
        <key>NSAllowsLocalNetworking</key>
        <true/>
      </dict>
    </config-file>


    <!-- WebView settings -->
    <preference name="WKWebViewOnly" value="true" />
    <preference name="AllowInlineMediaPlayback" value="true" />

    <!-- FIXED: Use relative path for GoogleService-Info.plist -->
    <!-- Remove the absolute path and use this instead: -->
    <allow-intent href="https://firestore.googleapis.com/*" />
    <allow-intent href="https://*.firebaseio.com/*" />
    <allow-intent href="https://*.googleapis.com/*" />
    <allow-intent href="https://*.gstatic.com/*" />
    <allow-navigation href="https://firestore.googleapis.com/*" />
    <allow-navigation href="https://*.googleapis.com/*" />

  </platform>

  <!-- Global settings -->
  <allow-intent href="http://*/*" />
  <allow-intent href="https://*/*" />

  <!-- Required plugins (MUST HAVE THESE) -->
  <plugin name="cordova-plugin-whitelist" spec="^1.3.4" />
  <plugin name="cordova-plugin-ionic-webview" spec="^5.0.0" />

  <!-- Optional but helpful -->
  <plugin name="cordova-plugin-statusbar" spec="^3.0.0" />
  <plugin name="cordova-plugin-device" spec="^2.1.0" />
  <plugin name="cordova-plugin-inappbrowser" spec="^5.0.0" />
</widget>
